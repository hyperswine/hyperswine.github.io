<!doctype html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Spectro Update &middot; Eletei
    
  </title>

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">
</head>

  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="">
          Eletei
        </a>
      </h1>
      <p class="lead">Made by yours truly. </br></br>Fact: the masses will enter the the critical stage of the dejection process in around a 8.0 years. Until then, we shall meet again.</br></br></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
            <a class="sidebar-nav-item" href="http://localhost:4000/about.html">About</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="http://localhost:4000/project.html">Project</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <span class="sidebar-nav-item">Currently v3.0.0</span>
    </nav>

    <p>&copy; 2022. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Spectro Update</h1>
  <span class="post-date">07 Feb 2022</span>
  <h2 id="spectro-simulator">Spectro Simulator</h2>
<p>I dont really want to use QEMU because then I will have to code for Sifive boards and be restricted to them. Technically I could use QEMU risc-v bare, which seems mostly good and implemented. And they have extra config and extensions. But then Iâ€™ll have to use C and write the extensions and compile it/set a new configuration. So then I will have to use a 3rd party API. I dont like that idea.</p>

<p>So I wanted to build a VM, software emulator for riscv. Now it will just be interpreted, i.e. instructions converted on demand to x86. For simple unit tests and integration tests, should be fine. Printing should be fast and so as mallocing and stuff. But the problem is when you start testing out bigger apps and functionality which should get exponentially slower as you are interpreting them line by line. So then you can AOT transpile the riscv elf image into a form that can be executed in a containerised environment. Spectrainer x86 is an idea for a container/docker type environment on win32/x86 where you can run a transpiled riscv bare metal img.</p>

<h2 id="drivers">Drivers</h2>
<p>I dunno about it. In linux &gt;50% of the code are drivers. I think its a good idea to make drivers pluggable modules and have some open source, non-specific or official modules loaded by default. The installer can also check if any connected device would be supported by a driver from the driver module list. If there is that module can be linked in the install phase rather than the runtime phase.</p>

<h2 id="spectrovm-drivers">SpectroVM Drivers</h2>
<p>The VM hardly needs any firmware since we are mostly trying to emulate the functionality of key devices char, block and network. Of which, mouse, kb, speaker, mic, output display, storage disk, ram, cpu, gpu are of interest. The output display driver is merely the monitor driver. The actual graphics stuff is handled by the graphics driver which can be quite complex. So as the network driver. For networking we simply provide an interface for ethernet, wifi, bt and connect it directly to the underlying stuff. I dont wanna touch networking too much rn but it is def quite a cool thing. You dont wanna end up like linux lol.</p>

</div>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="http://localhost:4000/2022/02/18/spectro-update.html">
            Spectro Update
            <small>18 Feb 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://localhost:4000/2022/02/14/update-spectro.html">
            Spectro Update
            <small>14 Feb 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://localhost:4000/2022/02/10/update.html">
            Spectro Update
            <small>10 Feb 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>


    </div>

  </body>
</html>
